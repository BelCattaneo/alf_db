{% extends "alf_db/base.html" %} 

{% load widget_tweaks %}

{% block scripts %}
  {% load static %}
  <script src="{% static "alf_db/checkBox.js" %}" ></script>
{% endblock scripts %}

{% block content %}

<div class="panel panel-primary">
  <div class="panel-heading">
    <h3 class="panel-title">Nueva Transacción</h3>
  </div>
</div>

<form class="centered-form" action="{% url 'alf_db:edit_transaction'  transaction.id %}" method='post' enctype="multipart/form-data">
  {% csrf_token %}
  {{ form.non_field_errors }}
  
  <div class="form-group pull-right" >

     <span class="button-checkbox">
        <button type="button" 
                class="btn  check-recept-checkbox" 
                data-color="primary">
                Recepción de Cheque
                {% render_field form.check_reception style="display: none;" %}
        </button>
    </span>
    <div>
      {% for error in form.check_reception.errors %}
        <p class="form-error">{{ error | escape }}</p>
      {% endfor %}
    </div>
  </div>
  
  <div class="clearfix"></div>
  
  <div class="form-group">
    <label for="{{ form.delivery_number.id_for_label }}">Número de Envío:</label>
    {% render_field form.delivery_number class+="form-control" %}
    <div>
      {% for error in form.delivery_number.errors %}
      <p class="form-error">{{ error | escape }}</p>
      {% endfor %}
    </div>
  </div>

  <div class="form-group">
    <label for="{{ form.delivery_date.id_for_label }}">Fecha de Recepción de los Productos:</label>
    {% render_field form.delivery_date class+="form-control" %}
    <div>
      {% for error in form.delivery_date.errors %}
      <p class="form-error">{{ error | escape }}</p>
      {% endfor %}
    </div>
  </div>
  


  <div class="form-group">
    <label for="{{ form.customer.id_for_label }}">Cliente:</label>
    {% render_field form.customer class+="form-control" %}
    <div>
      {% for error in form.customer.errors %}
        <p class="form-error">{{ error | escape }}</p>
      {% endfor %}
    </div>
  </div>

  <div class="form-group">
    <label for="{{ form.products.id_for_label }}">Producto:</label>
    {% render_field form.products class+="form-control" %}
    <div>
      {% for error in form.products.errors %}
        <p class="form-error">{{ error | escape }}</p>
      {% endfor %}
    </div>
  </div>
  
  <div class="form-group" >
    <label for="{{ form.transaction_images.id_for_label }}">Imágenes:</label>
       
    {% render_field form.transaction_images class+="form-control" %}
    
    <div>
      {% for error in form.transaction_images.errors %}
        <p class="form-error">{{ error | escape }}</p>
      {% endfor %}
    </div>
  </div>
  {% if transaction.transaction_images %}
    <div class="col-xs-6 col-md-3">
      <a href="{{ transaction.transaction_images.url }}" class="thumbnail">
        <img src="{{ transaction.transaction_images.url }}" alt="...">
      </a>
    </div>
  {% endif %}

  <button class="btn btn-primary" name="submit" style="float: right;">Guardar</button>
</form>

{% endblock content %}